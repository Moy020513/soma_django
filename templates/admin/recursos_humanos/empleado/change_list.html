{% extends 'admin/change_list.html' %}
{% load i18n admin_urls admin_list %}

{% block object-tools %}
<div class="object-tools d-flex justify-content-end gap-2" style="margin-bottom: 1rem;">
      <a href="{% url 'rh:registrar_empleado' %}" class="btn btn-main">{% trans 'Registrar empleado' %}</a>
</div>
{% endblock %}

{# Ajustes para que la tabla de empleados se comporte igual que la lista de asignaciones:
   - el contenedor `.results` tendrá overflow-x:auto
   - la tabla `#result_list` usará width:auto y un min-width razonable para forzar el scroll
   Esto evita que la tabla salga del ancho de la pantalla. #}
{% block result_list %}
  <style>
    /* Copiado del estilo usado en admin/asignaciones para que el comportamiento sea idéntico */
    .results { overflow-x: auto; -webkit-overflow-scrolling: touch; }
    #result_list { width: auto; min-width: 1100px; border-collapse: collapse; font-size: 13px; }

    #result_list th,
    #result_list td {
      border: 1px solid #b6b6b6;
      padding: 8px 10px;
      text-align: left;
      line-height: 1.25;
      white-space: normal;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box;
      vertical-align: middle;
    }

    #result_list th {
      background: #000a46;
      color: #fff;
      font-weight: 600;
      letter-spacing: 0.5px;
      font-size: 12px !important;
      text-align: center !important;
      height: 36px;
      vertical-align: middle;
      padding: 8px 10px;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    @media (max-width: 768px) {
      #result_list { min-width: 800px; }
      #result_list th, #result_list td { font-size: 11px; padding: 6px; }
    }
  </style>

  <form id="changelist-form" method="post" novalidate>
    {% csrf_token %}
    <div class="actions" style="display:none;">
      <span class="action-counter" data-actions-icnt="0"></span>
      <span class="all"></span>
      <input type="checkbox" id="action-toggle" />
    </div>

    <div class="results">
      {% result_list cl %}
    </div>
  </form>

{% endblock %}

{% block object-tools-items %}
  <div class="object-tools d-flex justify-content-end gap-2" style="margin-bottom: 1rem;">
    <a href="{% url 'home' %}" class="btn btn-secondary btn-lg">{% trans 'Volver al inicio' %}</a>
    <a href="{% url 'rh:registrar_empleado' %}" class="btn btn-primary btn-lg">{% trans 'Registrar empleado' %}</a>
  </div>
<style>
  .btn-main {
    background: linear-gradient(45deg, var(--soma-orange), var(--soma-orange-light));
    color: #fff !important;
    border: none;
    border-radius: 4px;
    padding: 10px 28px;
    font-size: 16px;
    font-weight: 600;
    margin-left: 8px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: background 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  }
  .btn-main:hover {
    background: linear-gradient(45deg, var(--soma-orange-dark), var(--soma-orange));
    opacity: 0.9;
    text-decoration: underline;
  }
</style>
{% endblock %}
