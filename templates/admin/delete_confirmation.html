{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'home' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|title }}</a>
    {% comment %} Construir el enlace al change sin usar reverse para evitar NoReverseMatch cuando el ID llega vacío {% endcomment %}
    {% with obj_id=object_id|default:object.pk %}
        &rsaquo; <a href="/admin/{{ opts.app_label }}/{{ opts.model_name }}/{{ obj_id }}/change/">{{ object|truncatewords:"18" }}</a>
    {% endwith %}
    &rsaquo; {% trans 'Delete' %}
    </div>
{% endblock %}

{% block content %}
<div class="change-form-header">
    <h1>{% blocktrans with name=object %}Eliminar {{ name }}{% endblocktrans %}</h1>
</div>

<div class="change-form-content">
    <div class="form-container">
        {% if perms_lacking %}
            <div class="alert alert-warning">
                <h4>{% trans "Eliminar los objetos seleccionados resultará en la eliminación de objetos relacionados, pero tu cuenta no tiene permiso para eliminar los siguientes tipos de objetos:" %}</h4>
                <ul>
                    {% for obj in perms_lacking %}
                        <li>{{ obj }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% else %}
            <div class="alert alert-danger">
                <h4>{% trans "¿Está seguro?" %}</h4>
                <p>{% blocktrans with name=object %}¿Está seguro que desea eliminar la notificación "{{ object }}" y todos sus elementos asociados?{% endblocktrans %}</p>

                <p class="text-danger font-weight-bold">
                    {% trans "Esta acción no se puede deshacer." %}
                </p>
            </div>

            <form method="post">
                {% csrf_token %}
                <div class="submit-row">
                    <input type="hidden" name="post" value="yes">
                    <input type="submit" value="{% trans "Sí, estoy seguro" %}" class="deletelink">
                    {% with obj_id=object_id|default:object.pk %}
                        <a href="{% url 'home' %}" class="btn btn-secondary">Volver al inicio</a>
                    {% endwith %}
                </div>
            </form>
        {% endif %}
    </div>
</div>
{% endblock %}