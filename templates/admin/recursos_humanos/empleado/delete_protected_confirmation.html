{% extends "admin/base_site.html" %}
{% load i18n admin_urls %}

{% block content %}
  <div class="module">
    <h1>{{ title }}</h1>
    <p>{% trans "El empleado no puede eliminarse porque existen registros relacionados que lo protegen." %}</p>
    <p>{% trans "A continuación se listan los registros que impiden la eliminación. Puede elegir eliminarlos primero y luego eliminar al empleado, o cancelar." %}</p>

    <h2>{% trans "Registros relacionados" %}</h2>
    <ul>
      {% for item in protected_qs %}
        <li>
          <a href="{% url 'admin:recursos_humanos_asignacionportrabajador_change' item.pk %}">{{ item }}</a>
        </li>
      {% empty %}
        <li>{% trans "(No se hallaron registros relacionados)" %}</li>
      {% endfor %}
    </ul>

    <form method="post" style="display:inline-block; margin-right:1rem;">
      {% csrf_token %}
      <input type="hidden" name="force" value="1">
      <button type="submit" class="default">{% trans "Eliminar registros relacionados y borrar empleado" %}</button>
    </form>

    <a class="button" href="{% url 'admin:recursos_humanos_empleado_changelist' %}">{% trans "Cancelar" %}</a>
  </div>
{% endblock %}
